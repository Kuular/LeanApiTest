{"uid":"c7858c9444d6a37d","name":"test_list_customers","fullName":"tests.test_customer_creation.TestCustomerCreation#test_list_customers","historyId":"62e83650e40750cf314cafbc8bd102d5","time":{"start":1707169850254,"stop":1707169850938,"duration":684},"description":"Test the customer creation process","descriptionHtml":"<p>Test the customer creation process</p>\n","status":"broken","statusMessage":"KeyError: 'data'","statusTrace":"self = <tests.test_customer_creation.TestCustomerCreation object at 0x7f01819bd690>\ncustomer = ('a60065e3-0568-47ee-bc06-0a3be26552a8', 'test_user_30c7d99a-1041-4962-b4da-7c3715407466')\n\n    def test_list_customers(self, customer):\n        customer_id, app_user_id = customer\n        with allure.step(f\"Check that user with {customer_id=} and {app_user_id=} in the list of customers\"):\n>           list_of_customers = get_list_customers(LEAN_APP_TOKEN)\n\ntests/test_customer_creation.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nlean_app_token = 'dcfb1324-e521-486a-862a-4b485334e776'\n\n    def get_list_customers(lean_app_token: str) -> list[dict]:\n        with allure.step(f\"Get the list Customers\"):\n            params = {\n                \"page_number\": 0,\n                \"page_size\": 0\n            }\n>           response = requests.get(url=LEANTECH_URL, headers=get_headers(lean_app_token), params=params).json()[\"data\"]\nE           KeyError: 'data'\n\ntests/req.py:29: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"customer","time":{"start":1707169849475,"stop":1707169850254,"duration":779},"status":"passed","steps":[{"name":"Create Customer with app_user_id='test_user_30c7d99a-1041-4962-b4da-7c3715407466'","time":{"start":1707169849475,"stop":1707169850253,"duration":778},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Test the customer creation process","status":"broken","statusMessage":"KeyError: 'data'","statusTrace":"self = <tests.test_customer_creation.TestCustomerCreation object at 0x7f01819bd690>\ncustomer = ('a60065e3-0568-47ee-bc06-0a3be26552a8', 'test_user_30c7d99a-1041-4962-b4da-7c3715407466')\n\n    def test_list_customers(self, customer):\n        customer_id, app_user_id = customer\n        with allure.step(f\"Check that user with {customer_id=} and {app_user_id=} in the list of customers\"):\n>           list_of_customers = get_list_customers(LEAN_APP_TOKEN)\n\ntests/test_customer_creation.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nlean_app_token = 'dcfb1324-e521-486a-862a-4b485334e776'\n\n    def get_list_customers(lean_app_token: str) -> list[dict]:\n        with allure.step(f\"Get the list Customers\"):\n            params = {\n                \"page_number\": 0,\n                \"page_size\": 0\n            }\n>           response = requests.get(url=LEANTECH_URL, headers=get_headers(lean_app_token), params=params).json()[\"data\"]\nE           KeyError: 'data'\n\ntests/req.py:29: KeyError","steps":[{"name":"Check that user with customer_id='a60065e3-0568-47ee-bc06-0a3be26552a8' and app_user_id='test_user_30c7d99a-1041-4962-b4da-7c3715407466' in the list of customers","time":{"start":1707169850254,"stop":1707169850938,"duration":684},"status":"broken","statusMessage":"KeyError: 'data'\n","statusTrace":"  File \"/home/runner/work/LeanApiTest/LeanApiTest/tests/test_customer_creation.py\", line 16, in test_list_customers\n    list_of_customers = get_list_customers(LEAN_APP_TOKEN)\n  File \"/home/runner/work/LeanApiTest/LeanApiTest/tests/req.py\", line 29, in get_list_customers\n    response = requests.get(url=LEANTECH_URL, headers=get_headers(lean_app_token), params=params).json()[\"data\"]\n","steps":[{"name":"Get the list Customers","time":{"start":1707169850254,"stop":1707169850938,"duration":684},"status":"broken","statusMessage":"KeyError: 'data'\n","statusTrace":"  File \"/home/runner/work/LeanApiTest/LeanApiTest/tests/req.py\", line 29, in get_list_customers\n    response = requests.get(url=LEANTECH_URL, headers=get_headers(lean_app_token), params=params).json()[\"data\"]\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_customer_creation"},{"name":"subSuite","value":"TestCustomerCreation"},{"name":"host","value":"fv-az840-220"},{"name":"thread","value":"2356-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_customer_creation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"64261d0475f06fd8","reportUrl":"https://Kuular.github.io/LeanApiTest/15//#testresult/64261d0475f06fd8","status":"broken","statusDetails":"KeyError: 'data'","time":{"start":1707169012092,"stop":1707169012890,"duration":798}}]},"tags":[]},"source":"c7858c9444d6a37d.json","parameterValues":[]}