{"uid":"64261d0475f06fd8","name":"test_list_customers","fullName":"tests.test_customer_creation.TestCustomerCreation#test_list_customers","historyId":"62e83650e40750cf314cafbc8bd102d5","time":{"start":1707169012092,"stop":1707169012890,"duration":798},"description":"Test the customer creation process","descriptionHtml":"<p>Test the customer creation process</p>\n","status":"broken","statusMessage":"KeyError: 'data'","statusTrace":"self = <tests.test_customer_creation.TestCustomerCreation object at 0x7f95555e5630>\ncustomer = ('7af32442-ce84-4a17-a817-fe365b4ac9ec', 'test_user_5338b178-f26b-4640-8e72-7bb2311e0c5c')\n\n    def test_list_customers(self, customer):\n        customer_id, app_user_id = customer\n        with allure.step(f\"Check that user with {customer_id=} and {app_user_id=} in the list of customers\"):\n>           list_of_customers = get_list_customers(LEAN_APP_TOKEN)\n\ntests/test_customer_creation.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nlean_app_token = 'dcfb1324-e521-486a-862a-4b485334e776'\n\n    def get_list_customers(lean_app_token: str) -> list[dict]:\n        with allure.step(f\"Get the list Customers\"):\n            params = {\n                \"page_number\": 0,\n                \"page_size\": 0\n            }\n>           response = requests.get(url=LEANTECH_URL, headers=get_headers(lean_app_token), params=params).json()[\"data\"]\nE           KeyError: 'data'\n\ntests/req.py:29: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"customer","time":{"start":1707169011436,"stop":1707169012092,"duration":656},"status":"passed","steps":[{"name":"Create Customer with app_user_id='test_user_5338b178-f26b-4640-8e72-7bb2311e0c5c'","time":{"start":1707169011436,"stop":1707169012091,"duration":655},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Test the customer creation process","status":"broken","statusMessage":"KeyError: 'data'","statusTrace":"self = <tests.test_customer_creation.TestCustomerCreation object at 0x7f95555e5630>\ncustomer = ('7af32442-ce84-4a17-a817-fe365b4ac9ec', 'test_user_5338b178-f26b-4640-8e72-7bb2311e0c5c')\n\n    def test_list_customers(self, customer):\n        customer_id, app_user_id = customer\n        with allure.step(f\"Check that user with {customer_id=} and {app_user_id=} in the list of customers\"):\n>           list_of_customers = get_list_customers(LEAN_APP_TOKEN)\n\ntests/test_customer_creation.py:16: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nlean_app_token = 'dcfb1324-e521-486a-862a-4b485334e776'\n\n    def get_list_customers(lean_app_token: str) -> list[dict]:\n        with allure.step(f\"Get the list Customers\"):\n            params = {\n                \"page_number\": 0,\n                \"page_size\": 0\n            }\n>           response = requests.get(url=LEANTECH_URL, headers=get_headers(lean_app_token), params=params).json()[\"data\"]\nE           KeyError: 'data'\n\ntests/req.py:29: KeyError","steps":[{"name":"Check that user with customer_id='7af32442-ce84-4a17-a817-fe365b4ac9ec' and app_user_id='test_user_5338b178-f26b-4640-8e72-7bb2311e0c5c' in the list of customers","time":{"start":1707169012092,"stop":1707169012890,"duration":798},"status":"broken","statusMessage":"KeyError: 'data'\n","statusTrace":"  File \"/home/runner/work/LeanApiTest/LeanApiTest/tests/test_customer_creation.py\", line 16, in test_list_customers\n    list_of_customers = get_list_customers(LEAN_APP_TOKEN)\n  File \"/home/runner/work/LeanApiTest/LeanApiTest/tests/req.py\", line 29, in get_list_customers\n    response = requests.get(url=LEANTECH_URL, headers=get_headers(lean_app_token), params=params).json()[\"data\"]\n","steps":[{"name":"Get the list Customers","time":{"start":1707169012092,"stop":1707169012889,"duration":797},"status":"broken","statusMessage":"KeyError: 'data'\n","statusTrace":"  File \"/home/runner/work/LeanApiTest/LeanApiTest/tests/req.py\", line 29, in get_list_customers\n    response = requests.get(url=LEANTECH_URL, headers=get_headers(lean_app_token), params=params).json()[\"data\"]\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_customer_creation"},{"name":"subSuite","value":"TestCustomerCreation"},{"name":"host","value":"fv-az1249-403"},{"name":"thread","value":"2185-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_customer_creation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"64261d0475f06fd8.json","parameterValues":[]}